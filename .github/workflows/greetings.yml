name: Greetings

on:
  workflow_call:
    inputs:
      issue-message:
        description: 'Message for first-time issue authors'
        required: false
        type: string
        default: |
          Thanks for opening your first issue! We appreciate you taking the time to report this.
          A maintainer will review your issue soon.
      pr-message:
        description: 'Message for first-time PR authors'
        required: false
        type: string
        default: |
          Thanks for your first pull request! We are excited to have you contribute.
          A maintainer will review your PR soon. Please ensure all CI checks pass.

permissions: {}

jobs:
  greeting:
    name: Greet Contributors
    runs-on: ubuntu-latest
    timeout-minutes: 5
    permissions:
      issues: write
      pull-requests: write
    steps:
      - name: Harden Runner
        uses: step-security/harden-runner@a90bcbc6539c36a85cdfeb73f7e2f433735f215b # v2.15.0
        with:
          egress-policy: audit

      - uses: actions/first-interaction@1c4688942c71f71d4f5502a26ea67c331730fa4d # v3.1.0
        with:
          repo_token: ${{ secrets.GITHUB_TOKEN }}
          issue_message: ${{ inputs.issue-message }}
          pr_message: ${{ inputs.pr-message }}
